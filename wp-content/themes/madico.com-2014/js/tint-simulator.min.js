function ucwords(e){return(e+"").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,function(e){return e.toUpperCase()})}(function(e){function o(t,n){e(t+" option:selected").prop("selected",!1);e(t+" option").filter(function(){return e(this).text()==n}).prop("selected",!0);e(t).trigger("change")}function u(){var i=e(this).val(),s=e(this).attr("id"),o=i.toLowerCase().replace(" ","-");if(s=="Brand"){e("#Product").html(t);i!="all"&&e("#Product option").filter(":not(."+o+")").remove();e("#Product").trigger("change")}else if(s=="Product"){e("#Shade").html(n);e("#Shade option").filter(":not(."+o+")").remove();e("#Shade").trigger("change")}else if(s=="Shade"){var u=e('option[value="'+i+'"]',this).text(),a=parseInt(u.replace(/^\D+/g,"")),f="."+(100-a);e(".sedan .tint").animate({backgroundColor:i,opacity:f},r);var l=e('#Product option[value="'+e("#Product").val()+'"]').attr("class"),l=l.replace("-"," "),l=ucwords(l),l=l.replace(" ","-"),c=e("#Product").val(),c=c.replace("-"," "),c=ucwords(c),h=e('#Shade option[value="'+i+'"]').text(),p=l+" "+c+" "+h,d=e(".primary h2"),v=d.clone();v.css("position","absolute");v.css("top","0");v.css("width","100%");e(".primary").prepend(v);d.hide();d.text(p);v.fadeOut(r,function(){v.remove()});d.fadeIn(r)}}var t,n,r=200,i=[],s=[];e.getJSON("/wp-content/themes/madico.com/js/tint-simulator-data.json",function(i){var s=[{filter:"Brand",items:[{label:"All",value:"all"}]},{filter:"Product",items:[]},{filter:"Shade",items:[]}];e.each(i.tints,function(t,n){var r=n.brand.toLowerCase();s[0].items.push({label:n.brand,value:r,"class":""});e.each(n.products,function(t,n){var i=n.name.toLowerCase().replace(" ","-");s[1].items.push({label:n.name,value:i,"class":r});e.each(n.shades,function(e,t){s[2].items.push({label:t.id,value:t.color,"class":i})})})});var u=e("#dropdown-filter").html();e.each(s,function(t,n){var r=Handlebars.compile(u),i=r(s[t]),o="#dropdown-"+n.filter.toLowerCase().replace(" ","-");e(o).html(i)});t=e("#Product").html();n=e("#Shade").html();o("#Brand","Madico");o("#Product","Charcool");o("#Shade","35 PS SR");e(".simulator .loading").delay(r*3).fadeOut(r)});e(".filter-control select").live("change",u)})(jQuery);